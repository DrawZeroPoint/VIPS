<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>VIPS: VIPS Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VIPS
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">An implementation of Variational Inference by Policy Search</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classVIPS-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">VIPS Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for VIPS:</div>
<div class="dyncontent">
<div class="center"><img src="classVIPS__coll__graph.png" border="0" usemap="#VIPS_coll__map" alt="Collaboration graph"/></div>
<map name="VIPS_coll__map" id="VIPS_coll__map">
<area shape="rect" id="node2" href="classGMM.html" title="GMM" alt="" coords="31,5,86,32"/>
<area shape="rect" id="node4" href="classVIPS__Model.html" title="VIPS_Model" alt="" coords="161,81,255,108"/>
<area shape="rect" id="node3" href="classSampleDatabase.html" title="SampleDatabase" alt="" coords="280,81,403,108"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7ee36787e1dd8d0ae04365ed652ab338"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVIPS.html#a7ee36787e1dd8d0ae04365ed652ab338">VIPS</a> (int num_dimensions, int num_threads, double min_kl_bound, double max_kl_bound)</td></tr>
<tr class="separator:a7ee36787e1dd8d0ae04365ed652ab338"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adff46a3464207e55c4e699e6d869d40f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVIPS.html#adff46a3464207e55c4e699e6d869d40f">add_samples_to_database</a> (arma::mat new_samples, arma::vec new_target_densities, arma::uvec used_components)</td></tr>
<tr class="separator:adff46a3464207e55c4e699e6d869d40f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94e0f8c6ea5cc72da5939874dcaddb1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVIPS.html#a94e0f8c6ea5cc72da5939874dcaddb1e">update_importance_weights</a> ()</td></tr>
<tr class="separator:a94e0f8c6ea5cc72da5939874dcaddb1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e90dcdcf50ffca10fbb9dbfd8176e22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVIPS.html#a8e90dcdcf50ffca10fbb9dbfd8176e22">recompute_densities</a> (bool update_log_densities_on_model_comps=true, bool update_log_densities_on_background_dist=true)</td></tr>
<tr class="separator:a8e90dcdcf50ffca10fbb9dbfd8176e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea329d5f4eaf1c406b0c747b6390321a"><td class="memItemLeft" align="right" valign="top">arma::vec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVIPS.html#aea329d5f4eaf1c406b0c747b6390321a">select_active_samples</a> (int num_comps, int num_samples, double temperature)</td></tr>
<tr class="separator:aea329d5f4eaf1c406b0c747b6390321a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d39ea354e713a822f3a095a4f989413"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVIPS.html#a9d39ea354e713a822f3a095a4f989413">activate_newest_samples</a> (int N, bool keep_old)</td></tr>
<tr class="separator:a9d39ea354e713a822f3a095a4f989413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e88b8a4ffd410ee100455458b5d9e3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVIPS.html#a6e88b8a4ffd410ee100455458b5d9e3b">update_targets_for_KL_bounds</a> (bool update_weight_targets, bool update_comp_targets)</td></tr>
<tr class="separator:a6e88b8a4ffd410ee100455458b5d9e3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af23752b3d9fce422b6b26456240113c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVIPS.html#af23752b3d9fce422b6b26456240113c2">getBestInterpolation</a> (int index, mat my_samples, vec my_lnpdfs, vec bg_lnpdfs, double scaling_factor)</td></tr>
<tr class="separator:af23752b3d9fce422b6b26456240113c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a905ac8d65a5e88bb40220221d0942778"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVIPS.html#a905ac8d65a5e88bb40220221d0942778">promote_samples_to_components</a> (int N, double max_exploration_bonus, double tau, bool only_check_active_samples, int max_samples, bool scale_entropy, bool isotropic)</td></tr>
<tr class="separator:a905ac8d65a5e88bb40220221d0942778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6619407df7cc5032156caf8fb1855e95"><td class="memItemLeft" align="right" valign="top">std::tuple&lt; double, vec, vec &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVIPS.html#a6619407df7cc5032156caf8fb1855e95">update_weights</a> (double epsilon, double tau, double entropy_bound, bool be_greedy)</td></tr>
<tr class="separator:a6619407df7cc5032156caf8fb1855e95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac85e9be0da81e9fa603528aa7958a0a"><td class="memItemLeft" align="right" valign="top">arma::vec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVIPS.html#aac85e9be0da81e9fa603528aa7958a0a">adapt_KL_bound_for_comp_update</a> (double max_kl_bound, double factor)</td></tr>
<tr class="separator:aac85e9be0da81e9fa603528aa7958a0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae875912a0c60ac979909713aaffbc5e9"><td class="memItemLeft" align="right" valign="top">arma::vec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVIPS.html#ae875912a0c60ac979909713aaffbc5e9">update_components</a> (double tau, double ridge_coefficient, vec entropy_bounds, double max_active_samples, bool dont_learn_correlations, bool dont_recompute_densities, bool adapt_ridge_multipliers)</td></tr>
<tr class="separator:ae875912a0c60ac979909713aaffbc5e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b5eb59ab8fa1f16bc3db2a40b25f9a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVIPS.html#a1b5eb59ab8fa1f16bc3db2a40b25f9a4">add_components</a> (arma::vec new_weights_total, arma::mat new_means, arma::cube new_covs, bool dont_recompute_densities)</td></tr>
<tr class="separator:a1b5eb59ab8fa1f16bc3db2a40b25f9a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfc4f6911881e21b1b06276f7514bcfa"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVIPS.html#acfc4f6911881e21b1b06276f7514bcfa">get_entropy_estimate_on_active_samples</a> ()</td></tr>
<tr class="separator:acfc4f6911881e21b1b06276f7514bcfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeec7ba6219e433ad9ab6214e4ed0dd4a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVIPS.html#aeec7ba6219e433ad9ab6214e4ed0dd4a">get_entropy_estimate_on_gmm_samples</a> (int num_samples=10000)</td></tr>
<tr class="separator:aeec7ba6219e433ad9ab6214e4ed0dd4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac824a4180e5a8475eeb5a7c68a6483b6"><td class="memItemLeft" align="right" valign="top">std::tuple&lt; arma::mat, arma::vec, arma::mat, arma::mat, arma::vec, arma::mat, arma::mat, arma::mat, arma::mat &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVIPS.html#ac824a4180e5a8475eeb5a7c68a6483b6">get_debug_info</a> ()</td></tr>
<tr class="separator:ac824a4180e5a8475eeb5a7c68a6483b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c3c1617a3e8be6b02a7b5166711bb46"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9c3c1617a3e8be6b02a7b5166711bb46"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>getNumSamples</b> ()</td></tr>
<tr class="separator:a9c3c1617a3e8be6b02a7b5166711bb46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbaf88e98c600f465ae2799946305dab"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abbaf88e98c600f465ae2799946305dab"></a>
uvec&#160;</td><td class="memItemRight" valign="bottom"><b>getActiveSamples</b> ()</td></tr>
<tr class="separator:abbaf88e98c600f465ae2799946305dab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a9929f2b77be4949c57ac9008d5f3ec5c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9929f2b77be4949c57ac9008d5f3ec5c"></a>
<a class="el" href="classVIPS__Model.html">VIPS_Model</a>&#160;</td><td class="memItemRight" valign="bottom"><b>model</b></td></tr>
<tr class="separator:a9929f2b77be4949c57ac9008d5f3ec5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e9d133d270287a47e693ebda4199a91"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9e9d133d270287a47e693ebda4199a91"></a>
<a class="el" href="classGMM.html">GMM</a>&#160;</td><td class="memItemRight" valign="bottom"><b>backgroundDistribution</b></td></tr>
<tr class="separator:a9e9d133d270287a47e693ebda4199a91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29ce35cb0e4ba5bbff626bcccd88417b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a29ce35cb0e4ba5bbff626bcccd88417b"></a>
<a class="el" href="classSampleDatabase.html">SampleDatabase</a>&#160;</td><td class="memItemRight" valign="bottom"><b>sampleDatabase</b></td></tr>
<tr class="separator:a29ce35cb0e4ba5bbff626bcccd88417b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:accccca2a57a73de29ee07a8a76c9c941"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="accccca2a57a73de29ee07a8a76c9c941"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>num_threads</b></td></tr>
<tr class="separator:accccca2a57a73de29ee07a8a76c9c941"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2fc04069049b703933aa1a1834067a2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae2fc04069049b703933aa1a1834067a2"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>num_dimensions</b></td></tr>
<tr class="separator:ae2fc04069049b703933aa1a1834067a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdc5983d1434c2d24a0f96168529921e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abdc5983d1434c2d24a0f96168529921e"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>min_kl_bound</b></td></tr>
<tr class="separator:abdc5983d1434c2d24a0f96168529921e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34b0769fc34b3a517c212dc35c5f5fb4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a34b0769fc34b3a517c212dc35c5f5fb4"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>max_kl_bound</b></td></tr>
<tr class="separator:a34b0769fc34b3a517c212dc35c5f5fb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac99a855e6f284c3028435dd23fea3c06"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac99a855e6f284c3028435dd23fea3c06"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>num_samples</b></td></tr>
<tr class="separator:ac99a855e6f284c3028435dd23fea3c06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaddf0e6094bc9cf8e942c464b0e8a552"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaddf0e6094bc9cf8e942c464b0e8a552"></a>
arma::uvec&#160;</td><td class="memItemRight" valign="bottom"><b>active_samples</b></td></tr>
<tr class="separator:aaddf0e6094bc9cf8e942c464b0e8a552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16a3f01a04f8a2aabb4972912e4f105d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a16a3f01a04f8a2aabb4972912e4f105d"></a>
arma::mat&#160;</td><td class="memItemRight" valign="bottom"><b>samples</b></td></tr>
<tr class="separator:a16a3f01a04f8a2aabb4972912e4f105d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27193a3430c50755c6342ed370df794b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a27193a3430c50755c6342ed370df794b"></a>
arma::vec&#160;</td><td class="memItemRight" valign="bottom"><b>target_densities</b></td></tr>
<tr class="separator:a27193a3430c50755c6342ed370df794b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd32741f14cf0d1793cf6e64b636fcc0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acd32741f14cf0d1793cf6e64b636fcc0"></a>
arma::mat&#160;</td><td class="memItemRight" valign="bottom"><b>log_densities_on_model_comps</b></td></tr>
<tr class="separator:acd32741f14cf0d1793cf6e64b636fcc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a84ac52b3f3475ad4efeabc6d92c1c3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4a84ac52b3f3475ad4efeabc6d92c1c3"></a>
arma::mat&#160;</td><td class="memItemRight" valign="bottom"><b>log_joint_densities</b></td></tr>
<tr class="separator:a4a84ac52b3f3475ad4efeabc6d92c1c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c98147f1bba2bf4467714bb1070f5b6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6c98147f1bba2bf4467714bb1070f5b6"></a>
arma::vec&#160;</td><td class="memItemRight" valign="bottom"><b>log_densities_on_model</b></td></tr>
<tr class="separator:a6c98147f1bba2bf4467714bb1070f5b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f93d9215dbee5127d94fd65b61848e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a17f93d9215dbee5127d94fd65b61848e"></a>
arma::mat&#160;</td><td class="memItemRight" valign="bottom"><b>log_responsibilities</b></td></tr>
<tr class="separator:a17f93d9215dbee5127d94fd65b61848e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe994fe945632006165a985c4c89f4b8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abe994fe945632006165a985c4c89f4b8"></a>
arma::mat&#160;</td><td class="memItemRight" valign="bottom"><b>log_densities_on_background_dist</b></td></tr>
<tr class="separator:abe994fe945632006165a985c4c89f4b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05cf1526a1aaa34cfd76f2f7b9f1f653"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a05cf1526a1aaa34cfd76f2f7b9f1f653"></a>
arma::rowvec&#160;</td><td class="memItemRight" valign="bottom"><b>offsets_for_model_joint_densities</b></td></tr>
<tr class="separator:a05cf1526a1aaa34cfd76f2f7b9f1f653"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a825e8ea57d1c72d0941e1d5fc4c68ab3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a825e8ea57d1c72d0941e1d5fc4c68ab3"></a>
arma::rowvec&#160;</td><td class="memItemRight" valign="bottom"><b>sum_of_joint_densities_with_offsets</b></td></tr>
<tr class="separator:a825e8ea57d1c72d0941e1d5fc4c68ab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac318b08a7f1e3e7d386da8921f69db5c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac318b08a7f1e3e7d386da8921f69db5c"></a>
arma::mat&#160;</td><td class="memItemRight" valign="bottom"><b>importance_weights</b></td></tr>
<tr class="separator:ac318b08a7f1e3e7d386da8921f69db5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedb1fb27412374a577219711f083dd7d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aedb1fb27412374a577219711f083dd7d"></a>
arma::mat&#160;</td><td class="memItemRight" valign="bottom"><b>importance_weights_normalized</b></td></tr>
<tr class="separator:aedb1fb27412374a577219711f083dd7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7ee36787e1dd8d0ae04365ed652ab338"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VIPS::VIPS </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_dimensions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_threads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>min_kl_bound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_kl_bound</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Main class implementing the Learn-To-Sample algorithm </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_dimensions</td><td>- dimensionality of the sampling problem </td></tr>
    <tr><td class="paramname">num_threads</td><td>- number of threads to use  - the adaptive KL bound will not be set smaller than this threshold  - the adaptive KL bound will not be set higher than this threshold </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a9d39ea354e713a822f3a095a4f989413"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIPS::activate_newest_samples </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>keep_old</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Selects the N most recent samples and activates them (i.e. uses them for the upcoming learning iteration).<br />
 Makes sure, that all relevant data (e.g. densities, importance weights, etc.) gets updated </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">N</td><td>- the maximum number of recent samples to be activated, actually number of activated samples might be less, iff the sample database does not contain sufficient samples. </td></tr>
    <tr><td class="paramname">keep_old</td><td>- if set to true, the samples that are currently active will remain active </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aac85e9be0da81e9fa603528aa7958a0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vec VIPS::adapt_KL_bound_for_comp_update </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_kl_bound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>factor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adapts the KL bound based on the number of effective samples.<br />
 The KL bound for each component is set to min(max_kl_bound, factor * num_eff_samples(o)) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max_kl_bound</td><td>- hard upper bound for KL </td></tr>
    <tr><td class="paramname">factor</td><td>- factor for computing the KL bound based on the number of effective samples </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1b5eb59ab8fa1f16bc3db2a40b25f9a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIPS::add_components </td>
          <td>(</td>
          <td class="paramtype">arma::vec&#160;</td>
          <td class="paramname"><em>new_weights_total</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arma::mat&#160;</td>
          <td class="paramname"><em>new_means</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arma::cube&#160;</td>
          <td class="paramname"><em>new_covs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>dont_recompute_densities</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds new components. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_weights_total</td><td>- new weights of the <a class="el" href="classGMM.html">GMM</a> (including existing components) </td></tr>
    <tr><td class="paramname">new_means</td><td>- matrix of size N_dimensions x N_newComponents specifying the means of the new components </td></tr>
    <tr><td class="paramname">new_covs</td><td>- cube of size N_dimensions x N_dimensions x N_newComponents specifying the covariance matrices </td></tr>
    <tr><td class="paramname">dont_recompute_densities</td><td>- if true, do not update the marginals, responsibilities, etc after adding a new component of the new components </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adff46a3464207e55c4e699e6d869d40f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIPS::add_samples_to_database </td>
          <td>(</td>
          <td class="paramtype">arma::mat&#160;</td>
          <td class="paramname"><em>new_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arma::vec&#160;</td>
          <td class="paramname"><em>new_target_densities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arma::uvec&#160;</td>
          <td class="paramname"><em>used_components</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds new samples to the database.<br />
 Note that the samples will not be used for learning, until they have been activated The samples are assumed to have been drawn from the current model and the indices of the relevant components are to be provided for computing background distributions when necessary.<br />
 </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classVIPS.html#a9d39ea354e713a822f3a095a4f989413">activate_newest_samples</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_samples</td><td>- a matrix of size N_dimensions X N_samples </td></tr>
    <tr><td class="paramname">new_target_densities</td><td>- a vector of size N_samples containing the unnormalized densities on the target distribution </td></tr>
    <tr><td class="paramname">used_components</td><td>- a vector of size N_samples containing the indices of the components the corresponding samples have been drawn from </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac824a4180e5a8475eeb5a7c68a6483b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::tuple&lt; mat, vec, mat, mat, vec, mat, mat, mat, mat &gt; VIPS::get_debug_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get various densities, importance weights, etc. for debug purposes. </p><dl class="section return"><dt>Returns</dt><dd>a tuple, st. <br />
 tuple[0] contains the samples <br />
 tuple[1] contains the unnormalized target densities <br />
 tuple[2] contains the log densities on each model p(s|o) <br />
 tuple[3] contains the joint log densities p(s,o) <br />
 tuple[4] contains the <a class="el" href="classGMM.html">GMM</a> densities p(s) <br />
 tuple[5] contains the log responsibilities p(o|s) <br />
 tuple[6] contains the densitis on the background distribution q(s) <br />
 tuple[7] contains the importance weights <br />
 tuple[8] contains the normalized importance weights </dd></dl>

</div>
</div>
<a class="anchor" id="acfc4f6911881e21b1b06276f7514bcfa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double VIPS::get_entropy_estimate_on_active_samples </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a (weighted importance sampling) Monte-Carlo estimate of the entropy of the learned model. The entropy is computed based on the active samples. As this entropy is computed based on precomputed values [importance weights and log(p(x))] th evaluation is very fast. However, if the number of active samples is still low or the samples are not "fresh" (low importance weights), the estimate can be quite bad. see <a class="el" href="classVIPS.html#aeec7ba6219e433ad9ab6214e4ed0dd4a">get_entropy_estimate_on_gmm_samples()</a> for a slower, but usually more accurate estimate. </p><dl class="section return"><dt>Returns</dt><dd>a Monte-Carlo estimate of the entropy of the learned Gaussian Mixture Model </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classVIPS.html#aeec7ba6219e433ad9ab6214e4ed0dd4a">get_entropy_estimate_on_gmm_samples()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aeec7ba6219e433ad9ab6214e4ed0dd4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double VIPS::get_entropy_estimate_on_gmm_samples </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>N</em> = <code>10000</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a Monte-Carlo estimate of the entropy of the learned model. This methods draws new samples from the learned model and evaluated their log-densities log(p(x)). The entropy of the learned model is then approximated as H(p)  -1/N  log(p(x)). see <a class="el" href="classVIPS.html#acfc4f6911881e21b1b06276f7514bcfa">get_entropy_estimate_on_active_samples()</a> for a faster, but usually less accurate estimate. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">N</td><td>- the number of samples that should be drawn for computing the estimate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a Monte-Carlo estimate of the entropy of the learned Gaussian Mixture Model </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classVIPS.html#acfc4f6911881e21b1b06276f7514bcfa">get_entropy_estimate_on_active_samples()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af23752b3d9fce422b6b26456240113c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIPS::getBestInterpolation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mat&#160;</td>
          <td class="paramname"><em>my_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vec&#160;</td>
          <td class="paramname"><em>my_lnpdfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vec&#160;</td>
          <td class="paramname"><em>bg_lnpdfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>scaling_factor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For a given component, find the best interpolation between the current covariance matrix and a spherical one using a linear linesearch. <br />
 The quality of the covariance matrix is estimated based on an importance weighted Monte Carlo estimate of the expected loglikelihood on the target distribution. <br />
 The Monte Carlo estimate is computed based on a given set of samples, the corresponding target loglikelihoods and the loglikelihood of the sampling distribution. <br />
 IMPORTANT: This method will change the component to the best interpolation. <br />
 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>- index specifying which component of the current model should be adapted <br />
 </td></tr>
    <tr><td class="paramname">my_samples</td><td>- samples for the Monte Carlo estimate <br />
 </td></tr>
    <tr><td class="paramname">my_lnpdfs</td><td>- vector containing the loglikelihood under the target distribution for each sample <br />
 </td></tr>
    <tr><td class="paramname">bg_lnpdfs</td><td>- vector containing the loglikelihood of the distribution that was used for drawing the samples <br />
 </td></tr>
    <tr><td class="paramname">scaling_factor</td><td>- the spherical covariance matrix is given by scaling_factor * eye() <br />
 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a905ac8d65a5e88bb40220221d0942778"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIPS::promote_samples_to_components </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_exploration_bonus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tau</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>only_check_active_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>scale_entropy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isotropic</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Selects promising locations among the current samples and create new components at these positions. The covariance matrices are given by the weighted sums of the covariance matrices current model (and afterwards rescaled by cov_scaling_factor), where the weights are given by the responsibilities of the model components for the new location. Locations are promising if the residual given by residual = log(p_intractable(x)) - log(p_model(x) + exp(max_exploration_bonus)) is high.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">N</td><td>- the number of samples to be promoted </td></tr>
    <tr><td class="paramname">max_exploration_bonus</td><td>- maximum bonus for samples that have low density on the current model </td></tr>
    <tr><td class="paramname">tau</td><td>- can be used to assign higher weight to the bonus for samples that have low density on the current model </td></tr>
    <tr><td class="paramname">only_check_active_samples</td><td>- if set to true, the residual is computed on the active samples only, otherwise, the resiudal is computed for all samples in the sample database. </td></tr>
    <tr><td class="paramname">max_samples</td><td>- maximum number of samples to be considered </td></tr>
    <tr><td class="paramname">scale_entropy</td><td>- if true, scale the entropy of the newly created component such that it corresponds to the average entropy  p(o) H(p(x|o)) </td></tr>
    <tr><td class="paramname">isotropic</td><td>- if true, initialize new components as isotropic (identity-matrix if scale_entropy = False) instead of interpolating. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8e90dcdcf50ffca10fbb9dbfd8176e22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIPS::recompute_densities </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_log_densities_on_model_comps</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_log_densities_on_background_dist</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Recomputes the densities of various distributions as well as the importance weights.<br />
 Manual invocation is in general not necessary, as the densities are automatic updated, e.g. after weight changes, component changes, adding components, etc. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">update_log_densities_on_model_comps</td><td>- if this flag is set to false, assume that the density-evaluations for each <a class="el" href="classGMM.html">GMM</a> component is up-to-date, e.g. because only the <a class="el" href="classGMM.html">GMM</a> weights have changed </td></tr>
    <tr><td class="paramname">update_log_densities_on_model_background_dist</td><td>- if this flag is set to false, assume that the density evaluations for the background distribution are up-to-date, e.g. because it was not changed at all </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aea329d5f4eaf1c406b0c747b6390321a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">arma::vec VIPS::select_active_samples </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_comps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>temperature</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is used for building a mixture model for importance sampling.<br />
 For each component p(x|o) in the current approximation, iteratively sample num_comps components p(x|i) from the sample database (these have been used for drawing samples before) according to p  p(mu_i|o) - n_usages Adds all samples from each chosen component and stops if num_samples are selected <br />
 The member active_samples is updated to contain the chosen samples <br />
 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_comps</td><td>- maximum number of components that should be selected for each component in the approximation </td></tr>
    <tr><td class="paramname">num_samples</td><td>- stop after num_samples ahve been activated </td></tr>
    <tr><td class="paramname">temperature</td><td>- temperature for scaling the probability for sampling components </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a vector containing the number of effective samples for each component </dd></dl>

</div>
</div>
<a class="anchor" id="ae875912a0c60ac979909713aaffbc5e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vec VIPS::update_components </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tau</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ridge_coefficient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vec&#160;</td>
          <td class="paramname"><em>entropy_bounds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_active_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>dont_learn_correlations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>dont_recompute_densities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>adapt_ridge_multipliers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the components p(s|o). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max_kl_bound</td><td>- hard upper bound for each KL bound </td></tr>
    <tr><td class="paramname">factor</td><td>- factor for computing the KL bound for each component based on its number of effective samples </td></tr>
    <tr><td class="paramname">tau</td><td>- entropy coefficient </td></tr>
    <tr><td class="paramname">ridge_coefficient</td><td>- coefficient used for regularization when fitting the quadratic surrogate </td></tr>
    <tr><td class="paramname">entropy_bounds</td><td>- lower bound on entropy </td></tr>
    <tr><td class="paramname">max_active_samples</td><td>- size of the subset of samples that should be used for each component update </td></tr>
    <tr><td class="paramname">dont_learn_correlations</td><td>- iff true, fit a quadratic surrogate where R is diagonal (experimental) </td></tr>
    <tr><td class="paramname">dont_recompute_densities</td><td>- do not recompute the densities after the component update </td></tr>
    <tr><td class="paramname">adapt_ridge_multipliers</td><td>- if true, the ridge_coefficient will be adapted for each component </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a94e0f8c6ea5cc72da5939874dcaddb1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIPS::update_importance_weights </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Computes the importance weights q(x|o) / q_bg(x) for each component q(x|o) and the background-mixture q_bg(x) for the active set of samples. This method updates the class members importance_weights, log_importance_weights and importance_weights_normalized. </p>

</div>
</div>
<a class="anchor" id="a6e88b8a4ffd410ee100455458b5d9e3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIPS::update_targets_for_KL_bounds </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_weight_targets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update_comp_targets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the current components p(s|o) and the current weight distribution p(o) as the target for the respective KL bounds. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">update_weight_targets</td><td>- only update the weight targets if this is set to true </td></tr>
    <tr><td class="paramname">update_comp_targets</td><td>- only update the component targets if this ist set to true </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6619407df7cc5032156caf8fb1855e95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::tuple&lt; double, vec, vec &gt; VIPS::update_weights </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>epsilon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tau</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>entropy_bound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>be_greedy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>update the component weights p(o). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">epsilon</td><td>is the KL bound </td></tr>
    <tr><td class="paramname">tau</td><td>is the entropy coefficient </td></tr>
    <tr><td class="paramname">entropy</td><td>bound - has no effect if be_greedy is true. </td></tr>
    <tr><td class="paramname">be_greedy</td><td>- if true, don't perform KL-bound optimization but use the greedy optimal weights </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a tuple, s.t. tuple[0] contains the KL D(p_new(o)||p_old(o)) tuple[1] contains the rewards for each component that was used during the optimization tuple[2] contains a sample-estimate of the expected, unnormalized log-densities of the desired distribution </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="VIPS_8h_source.html">VIPS.h</a></li>
<li>VIPS.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
